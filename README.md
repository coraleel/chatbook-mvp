# ChatBook MVP

Простой прототип для чтения текста из файла и ответов на вопросы на основе содержимого.

## Описание

ChatBook MVP - это простой инструмент на Python, который:
- Читает текст из `.txt` файла
- Разбивает текст на части (абзацы/предложения) для обработки
- Отвечает на вопросы пользователя на основе содержимого файла
- Использует простой поиск по ключевым словам (без нейросетей)

## Требования

- Python 3.6 или выше
- Никаких внешних зависимостей (используются только стандартные библиотеки Python)

## Использование

1. Положите текстовый файл (`.txt`) в папку проекта или укажите путь к нему
2. Запустите скрипт:
   ```bash
   python chatbook.py
   ```
3. Введите путь к файлу (или нажмите Enter для использования файла по умолчанию `narnia.txt`)
4. Задавайте вопросы о содержимом файла
5. Для выхода введите `выход`, `exit`, `quit` или `q`

## Пример использования

```
Введите путь к текстовому файлу (Enter для 'narnia.txt'): 

Чтение файла: narnia.txt
✓ Файл успешно прочитан. Размер: 12345 символов

Разбиение текста на части...
✓ Текст разбит на 15 частей

============================================================
Можете задавать вопросы. Для выхода введите 'выход' или 'exit'
============================================================

Ваш вопрос: Что случилось с Люси?
```

## Структура проекта

```
chatbook-mvp/
├── chatbook.py          # Основной файл с логикой
├── narnia.txt           # Пример текстового файла
├── texts/               # Папка для текстовых файлов (опционально)
└── README.md            # Этот файл
```

## Функции

### `read_text_file(file_path)`
Читает текст из файла с обработкой ошибок:
- Проверяет существование файла
- Проверяет, что файл не пустой
- Поддерживает кодировки UTF-8 и CP1251

### `split_text(text, max_length=5000)`
Разбивает текст на части:
- Сначала по абзацам (двойной перенос строки)
- Если части слишком длинные, разбивает по предложениям
- Максимальная длина части по умолчанию: 5000 символов

### `find_answer(question, text_parts)`
Находит ответ на вопрос:
- Извлекает ключевые слова из вопроса
- Ищет части текста с наибольшим количеством совпадений
- Возвращает наиболее релевантную часть текста

### `format_answer(answer_text, max_display_length=1000)`
Форматирует ответ для вывода, ограничивая длину при необходимости.

## Обработка ошибок

Программа обрабатывает следующие ошибки:
- Файл не найден
- Пустой файл
- Текст слишком длинный (автоматически разбивается на части)
- Некорректная кодировка (пробует альтернативные кодировки)

## Расширение функционала

Для добавления новых файлов:
1. Положите `.txt` файл в папку проекта или в папку `texts/`
2. При запуске укажите путь к новому файлу

Для улучшения поиска ответов можно:
- Добавить синонимы для ключевых слов
- Улучшить алгоритм ранжирования результатов
- Добавить поддержку нескольких файлов одновременно

## Ограничения

- Используется простой поиск по ключевым словам (без семантического анализа)
- Не поддерживает сложные вопросы, требующие понимания контекста
- Работает только с текстовыми файлами (`.txt`)

## Лицензия

Этот проект создан как MVP (минимально жизнеспособный продукт) для демонстрации базовой функциональности.

